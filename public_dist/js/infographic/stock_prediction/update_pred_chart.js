const updatePredictionChart=a=>{const s=a.data.predictions.actuals.map(t=>t.date),r=a.data.predictions.actuals.map(t=>t.price),n=a.data.predictions.predictions.map(t=>t.date),o=a.data.predictions.predictions.map(t=>t.price),i=[...s,...n],l=[...r,...Array(o.length).fill(null)],d=[...Array(r.length).fill(null),...o];if(predictionChart)predictionChart.data.labels=i,predictionChart.data.datasets[0].data=l,predictionChart.data.datasets[1].data=d,predictionChart.update();else{const t=document.getElementById("predictionChart").getContext("2d");let c={labels:i,datasets:[{label:"Data Historis",data:l,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,fill:!1,tension:.1,pointRadius:2,pointHoverRadius:5},{label:"Prediksi",data:d,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,borderDash:[5,5],fill:!1,tension:.1,pointRadius:3,pointHoverRadius:6}]},f={title:{display:!0,text:"BBRI - Prediksi Harga Saham",color:"#ffffff",font:{size:16,weight:"bold"}},legend:{labels:{color:"#ffffff",usePointStyle:!0,padding:20}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(26, 26, 46, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#00d4aa",borderWidth:1,callbacks:{label:function(e){return e.dataset.label+": Rp "+e.parsed.y.toLocaleString("id-ID")}}}},p={x:{type:"category",title:{display:!0,text:"Tanggal",color:"#ffffff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#a0a0a0"}},y:{beginAtZero:!1,title:{display:!0,text:"Harga (Rp)",color:"#ffffff"},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#a0a0a0",callback:function(e){return"Rp "+e.toLocaleString("id-ID")}}}};predictionChart=new Chart(t,{type:"line",data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:f,scales:p,interaction:{mode:"nearest",axis:"x",intersect:!1},elements:{point:{hoverBorderWidth:3}}}})}};
